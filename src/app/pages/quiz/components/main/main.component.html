<div class="wrapper" [class]="markType">
    <button mat-raised-button class="new" (click)="newExpert()">Новий експерт</button>

    <div class="results" *ngIf="votes.length">
        <h2>Результат опитування <span style="color: #072949; text-transform: uppercase;">{{ name }}</span></h2>


        <div class="res-2">
            <div class="alt" *ngFor="let alt of alternatives; let i = index">
                <div class="title">{{alt}}</div>
                <div class="bar">
                    <div [attr.mark]="0"
                    *ngIf="getNumberOfMarks(bars[i].marks, 0)"
                        [style]="'width:' + getNumberOfMarks(bars[i].marks, 0) * 100 / bars[i].marks.length + '%' "
                        class="mark"
                    >
                        {{getNumberOfMarks(bars[i].marks, 0)}}
                    </div>
                    <div [attr.mark]="1"
                    *ngIf="getNumberOfMarks(bars[i].marks, 1)"
                        [style]="'width:' + getNumberOfMarks(bars[i].marks, 1) * 100 / bars[i].marks.length + '%' "
                        class="mark"
                    >
                        {{getNumberOfMarks(bars[i].marks, 1)}}
                    </div>
                    <div [attr.mark]="2"
                    *ngIf="getNumberOfMarks(bars[i].marks, 2)"
                        [style]="'width:' + getNumberOfMarks(bars[i].marks, 2) * 100 / bars[i].marks.length + '%' "
                        class="mark"
                    >
                        {{getNumberOfMarks(bars[i].marks, 2)}}
                    </div>
                    <div [attr.mark]="3"
                    *ngIf="getNumberOfMarks(bars[i].marks, 3)"
                        [style]="'width:' + getNumberOfMarks(bars[i].marks, 3) * 100 / bars[i].marks.length + '%' "
                        class="mark"
                    >
                        {{getNumberOfMarks(bars[i].marks, 3)}}
                    </div>
                    <div [attr.mark]="4"
                    *ngIf="getNumberOfMarks(bars[i].marks, 4)"
                        [style]="'width:' + getNumberOfMarks(bars[i].marks, 4) * 100 / bars[i].marks.length + '%' "
                        class="mark"
                    >
                        {{getNumberOfMarks(bars[i].marks, 4)}}
                    </div>
                </div>
            </div>
        </div>

        <br>

        <div class="res-1">
            <div class="head">
                <span class="empty"></span>
                <span class="alt" *ngFor="let alt of alternatives" [title]="alt"> {{alt}} </span>
            </div>
            <div class="vote" *ngFor="let vote of votes">
                <span class="name" [title]="vote.name">{{vote.name}}</span>
                <span class="mark" *ngFor="let mark of vote.votes" [attr.mark]="mark"
                    [title]="markType === 'centered' ? +mark-2 : +mark+1"></span>
            </div>
        </div>
    </div>
</div>